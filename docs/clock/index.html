<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="manifest" href="manifest.json" crossorigin="use-credentials">
	<script>
        var swk;
        try {
            console.clear();
            if ('serviceWorker' in navigator && (location.protocol === "https:" || location.hostname === "localhost")) {
                window.addEventListener("load", () => {
                    navigator.serviceWorker.register('sw.js')
                        .then(reg => console.log("Service worker registered"))
                        .catch(err => console.error(`Service Worker Error: ${err}`));


                    navigator.serviceWorker.ready.then((registration) => {
                        swk = registration.active;

                        navigator.serviceWorker.addEventListener("message", msg => {
                            console.log("from sw", msg.data);
                            document.body.innerHTML = msg.data.reply;
                            document.body.style.backgroundColor = "white";
                        });
                    });
                });
            }
        } catch (e) {
            console.error(e);
        }		
	</script>
	<script src="clock.js"></script>
	<style media="all">
		input[type=checkbox]:checked+label {
			background-color: red;
			color: white;
			mix-blend-mode: difference;
		}

		input[type=time] {
			font-size: 2em;
		}

		input[type=checkbox] {
			transform: scale(2);
		}
	</style>
</head>

<body style="font-family: sans-serif; padding-bottom: 3vw; user-select: none; margin: 0;">
	<div id="main" style="min-height: 100vh; margin: 0;">

		<input id="alarm" type="checkbox" value="" oninput="setAlarm(event.target.checked, 0)" style="display: none;">
		<label id="alarmlabel" for="alarm"
			style="font-size: 3vw; padding: 0.4em; display: block; position: absolute; top: 0; left: 0;">Alarm <span
				id="alarmtimetext"></span></label>

		<div id="clockhead" style="font-size: 8vw; text-align: right; padding-right: 0.5em;"></div>
		<div id="clock"
			style="font-size: 36vw; text-align: center; margin-top: -6vw; margin-bottom: -2vw; font-weight: bold;">
		</div>
	</div>
	<div id="settings" style="padding: 1vw;  margin-bottom: 4vw;">
		<br><br><br>Alarm Time <input id="alarmtime" type="time" value=""
			onchange="setAlarmTime(event.target.value, 0);">
		Disable <input id="disablealarm" type="checkbox">

		<input type="button" value="Full screen" onclick="goToWork(event.target.value);"
			style="float: right; font-size: 4vw; min-height: 6vw;">

		<br><br><br>From <input id="from0" type="time" value="" oninput="setColorTime(event.target.value, 0)">
		Text <input id="color0" type="color" value="#ffffff" oninput="setColor(event.target.value, 0);">
		Background <input id="bg0" type="color" value="#000000" oninput="setBg(event.target.value, 0);">
		<br>From <input id="from1" type="time" value="" oninput="setColorTime(event.target.value, 1)">
		Text <input id="color1" type="color" value="#ffffff" oninput="setColor(event.target.value, 1);">
		Background <input id="bg1" type="color" value="#000000" oninput="setBg(event.target.value, 1);">
	</div>
	<script>
		runIt();
	</script>

</body>

</html>